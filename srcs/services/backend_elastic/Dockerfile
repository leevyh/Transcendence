FROM elasticsearch:8.14.1

ENV ELASTIC_PASSWORD=changeme
ENV ES_SETTING_BOOTSTRAP_MEMORY__LOCK=false
ENV ES_SETTING_CLUSTER_NAME=transcendence-elk-cluster
ENV ES_SETTING_DISCOVERY_TYPE=single-node
ENV ES_SETTING_NODE_NAME=backend-elastic
ENV ES_SETTING_XPACK_MONITORING_COLLECTION_ENABLED=true
ENV ES_SETTING_XPACK_SECURITY_ENABLED=true
ENV ES_SETTING_XPACK_SECURITY_HTTP_SSL_ENABLED=true
ENV ES_SETTING_XPACK_SECURITY_HTTP_SSL_KEY=certs/backend-elastic/backend-elastic.key
ENV ES_SETTING_XPACK_SECURITY_HTTP_SSL_CERTIFICATE=certs/backend-elastic/backend-elastic.crt
ENV ES_SETTING_XPACK_SECURITY_HTTP_SSL_CERTIFICATE__AUTHORITIES=certs/ca/ca.crt
ENV ES_SETTING_XPACK_SECURITY_TRANSPORT_SSL_ENABLED=true
ENV ES_SETTING_XPACK_SECURITY_TRANSPORT_SSL_KEY=certs/backend-elastic/backend-elastic.key
ENV ES_SETTING_XPACK_SECURITY_TRANSPORT_SSL_CERTIFICATE=certs/backend-elastic/backend-elastic.crt
ENV ES_SETTING_XPACK_SECURITY_TRANSPORT_SSL_CERTIFICATE__AUTHORITIES=certs/ca/ca.crt
ENV ES_SETTING_XPACK_SECURITY_TRANSPORT_SSL_VERIFICATION__MODE=certificate
ENV ES_SETTING_XPACK_LICENSE_SELF__GENERATED_TYPE=basic
